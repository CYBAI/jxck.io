# Async DOM

DOM の更新はメインスレッドで行われ、ここで時間がかかると応答性の問題が出る。

特に大きな変更を適用し、それが Grid/Flexbox/Table などでレイアウトされるとなると、なおさら時間がかかる。

DOM の更新は同期であり、その間に別の Script を走らせることができない。

Worker は基本的に DOM にはさわれないので、更新を非同期にすることもできない。



## DOM 職人

DOM の更新を局所化するためには、 Model の変更に関連する要素を細かく見定め、ミクロな更新に分解する必要がある。

いわゆる、 DOM 職人的な仕事が必要になる。

しかし、そうした更新は難しい上に変更に弱くなりがちである。つまりスケールしない。


## Virtual DOM

モデルを更新すると、変更結果の DOM と、現時点の DOM の差分を計算し、大きな更新を依頼しながらも、実際には局所更新が行えるようにする。

そうした中間処理を行うのが Virtual DOM だった。

しかし、差分の算出やそれを元にした局所更新は、実装が難しいものだった。


## 4 つのアプローチ

これに対する 4 つのアプローチ

- Display Locking
- asyncAppend
- DOM ChangeList
- WokerNod

## Display Locking


