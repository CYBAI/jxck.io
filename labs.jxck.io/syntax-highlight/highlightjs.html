<!DOCTYPE html>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<title>DEMO | labs.jxck.io</title>

<h1>Test</h1>

<!-- このコードを読むと、 <code> タグの中を class についた言語に応じて解析し、 class を付けてくれる -->
<script type=text/javascript src=https://jxck.io/assets/js/highlight.pack.js></script>

<script>
// これを呼ぶと解析してくれる
hljs.initHighlightingOnLoad();
</script>


<style>
pre {
  border: solid 1px black;
  padding: 1em;
}


/* .hljs なんとかっていうクラスが付くので、そのスタイルを個々に指定する */
.color > .hljs-literal {
  color: #0086b3;
}

.color > .hljs-keyword {
  color: #a71d5d;
}

.color > .hljs-meta {
  color: #4f80e5;
}

.color > .hljs-keyword {
  color: #a71d5d;
}

.color > .hljs-built_in {
  color: #0086b3;
}

.color > .hljs-string {
  color: #183691;
}

.color > .hljs-comment {
  color: #4f80e5;
}
</style>
<pre>
<code class="javascript color">// カラーモード
'use strict';
if (window.ReportingObserver) {
  console.log('ReportingObserver');
  const observer = new ReportingObserver((reports, observer) => {
    for (const report of reports) {
      console.log(report.type, report.url, report.body)

      const r = {
        type: report.type,
        url:  report.url,
        body: {},
      }

      switch(report.type) {
        case "deprecation":
          r.body = {
            id:                 report.body.id,
            anticipatedRemoval: report.body.anticipatedRemoval,
            message:            report.body.message,
            sourceFile:         report.body.sourceFile,
            lineNumber:         report.body.lineNumber,
            columnNumber:       report.body.columnNumber,
          }
          break;
        case "intervention":
          r.body = {
            id:           report.body.id,
            message:      report.body.message,
            sourceFile:   report.body.sourceFile,
            lineNumber:   report.body.lineNumber,
            columnNumber: report.body.columnNumber,
          }
          break;
        case "crash":
          r.body = {
            id:     report.body.id,
            reason: report.body.reason,
          }
          break;
      }

      const URL = "https://report-uri.jxck.io/report-to.cgi"
      navigator.sendBeacon(URL, JSON.stringify(r))
    }
  }, {buffered: true})

  observer.observe()
}</code>
</pre>




<style>

.gray > .hljs-keyword {
  /*太くしたり*/
  font-weight: bold;
}

.gray > .hljs-built_in {
  /*車体にしたり*/
  font-style: italic;
}

.gray > .hljs-meta {
  /*font変えてみたり*/
  font-family: 'Courier New';
}

.gray > .hljs-literal {
  /*組み合わせたり*/
  font-weight: bold;
  font-style: italic;
}

.gray > .hljs-string {
  /*薄くしたり*/
  color: #888;
}

.gray > .hljs-comment {
  color: #888;
}
</style>

<pre>
<code class="javascript gray">// 白黒モード
'use strict';
if (window.ReportingObserver) {
  console.log('ReportingObserver');
  const observer = new ReportingObserver((reports, observer) => {
    for (const report of reports) {
      console.log(report.type, report.url, report.body)

      const r = {
        type: report.type,
        url:  report.url,
        body: {},
      }

      switch(report.type) {
        case "deprecation":
          r.body = {
            id:                 report.body.id,
            anticipatedRemoval: report.body.anticipatedRemoval,
            message:            report.body.message,
            sourceFile:         report.body.sourceFile,
            lineNumber:         report.body.lineNumber,
            columnNumber:       report.body.columnNumber,
          }
          break;
        case "intervention":
          r.body = {
            id:           report.body.id,
            message:      report.body.message,
            sourceFile:   report.body.sourceFile,
            lineNumber:   report.body.lineNumber,
            columnNumber: report.body.columnNumber,
          }
          break;
        case "crash":
          r.body = {
            id:     report.body.id,
            reason: report.body.reason,
          }
          break;
      }

      const URL = "https://report-uri.jxck.io/report-to.cgi"
      navigator.sendBeacon(URL, JSON.stringify(r))
    }
  }, {buffered: true})

  observer.observe()
}</code>
</pre>
