<!DOCTYPE html>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<title>CORS with Preflight DEMO | labs.jxck.io</title>

<style>
</style>

<h1>CORS with Preflight DEMO</h1>

<p>see the source &amp; console</p>

<form method=post action=/fetch/api>
  <input type=text value=foo>
  <button type=submit>ok</button>
</form>

<script>
  'use strict';
  document.addEventListener('DOMContentLoaded', async (e) => {
    const res = await fetch('http://labs.mozaic.fm/fetch/api', {
      method: "POST",
      headers: {"content-type": "application/json"},
      body: JSON.stringify({a:10})
    })
    console.log(res)
    console.log(await res.text())
  })
</script>

<form method='post' action="https://example.com">
  <input type=text name=name value=foo>
  <input type=submit value=ok>
</form>
