<!DOCTYPE html>
<meta charset="utf-8">
<title>srcset/picture test</title>

<style>
pre {
  background: #ccc;
  margin: 1em;
  padding: 1em;
}

strong {
  color: red;
}
</style>
<h1>srcset/picture test</h1>

<p>Your Device Pixel Ratio = <strong id=ratio></strong>

<h2>image tag</h2>
<div class=demo id=original>
<img src=100x100.png alt=100x100>
<img src=200x200.png alt=200x200>
<img src=300x300.png alt=300x300>
</div>
<pre></pre>

<hr>

<h2>width 100</h2>
<div class=demo id=width-100>
<img src=100x100.png width=100 alt=100x100>
<img src=200x200.png width=100 alt=200x200>
<img src=300x300.png width=100 alt=300x300>
</div>
<pre></pre>

<hr>

<h2>srcset sizes=100px</h2>
<div class=demo id=srcset>
<img src=100x100.png
     srcset="100x100.png 100w, 200x200.png 200w, 300x300.png 300w"
     sizes=100px
     width=100px
     alt="select with srcset" />
</div>
<pre></pre>

<hr>

<h2>srcset sizes=100px with webp</h2>
<p>this seems work but error at console on chrome
<div class=demo id=srcset-webp>
<!--
<img src=100x100.png
     srcset="100x100.png 100w, 200x200.png 200w, 300x300.png 300w
             100x100.webp 100w, 200x200.webp 200w, 300x300.webp 300w"
     sizes=100px
     width=100px
     alt="select with srcset" />
-->
</div>
<pre></pre>

<hr>

<h2>picture</h2>
<div class=demo id=picture>
<picture>
  <source type=image/webp srcset=100x100.webp>
  <img src=100x100.png alt="select with picture">
</picture>
</div>
<pre></pre>

<hr>

<h2>picture+source</h2>
<div class=demo id=picture-src>
<picture>
  <source type=image/webp
          srcset="100x100.webp 100w, 200x200.webp 200w, 300x300.webp 300w"
          sizes=100px>
  <source type=image/png
          srcset="100x100.png 100w, 200x200.png 200w, 300x300.png 300w"
          sizes=100px>
  <img src=100x100.png width=100 alt="select with picture source">
</picture>
</div>
<pre></pre>

<hr>

<h2>media query</h2>
<div class=demo id=media-query>
<picture>
  <source type=image/webp srcset=300x300.webp
          media="min-device-pixel-ratio: 2.5">
  <source type=image/webp srcset=200x200.webp
          media="min-device-pixel-ratio: 1.5">
  <source type=image/webp srcset=100x100.webp>

  <source type=image/png srcset=300x300.png
          media="min-device-pixel-ratio: 2.5">
  <source type=image/png srcset=200x200.png
          media="min-device-pixel-ratio: 1.5">
  <source type=image/png srcset=100x100.png>

  <img src=100x100.png width=100 alt="select with media query">
</picture>
</div>
<pre></pre>

<hr>

<footer>
  <address class=copyright>Copyright &copy; 2016 <a href=//www.jxck.io>Jxck</a>. All Rights Reserved.</address>
</footer>

<script>
// html special chars
function hsc(str) {
  return str.replace(/&/g, '&amp;')
            .replace(/</g, '&lt;')
            .replace(/>/g, '&gt;')
            .replace(/"/g, '&quot;')
            .replace(/'/g, '&#039;');
}

document.getElementById('ratio').textContent = window.devicePixelRatio;

var divs = document.getElementsByClassName('demo');

Array.prototype.slice.call(divs).forEach(function (div) {
  var id = div.id;
  var html = div.innerHTML.trim();
  var pre =  document.querySelector("#" + id + "+ pre");
  pre.innerHTML = hsc(html);
});
</script>
