<!DOCTYPE html>
<meta charset=utf-8>
<meta name=description content="demo page of upgrade insecure requests">
<meta name=viewport content="width=device-width,initial-scale=1">
<title>Upgrade Insecure Requests Demo | labs.jxck.io</title>

<style>
pre {
  font-size: 1em;
  background-color: #ccc;
}

strong {
  color: #ff0000;
}
</style>

<h1>Mixed Content</h1>

<h2>Upgrade Insecure Request <strong>ON</strong></h2>

<p>このページは HTTPS で配信されていますが、以下の HTTP の Mixed Content を含みます。</p>

<p>しかしこのページは以下のヘッダにより Upgarade Insecure Request が <strong>有効になっています</strong>
<pre>
  Content-Security-Policy: Upgrade-Insecure-Requests
</pre>

したがって読み込まれたコンテンツは以下のように扱われます。

<h3>Mixed Passive Content</h3>
パッシブコンテンツは、悪意のあるコンテンツに差し替えられても、表示の変更に止まるなど影響が小さいとされる以下のコンテンツです。

<ul>
  <li>&lt;img src&gt;
  <li>&lt;audio src&gt;
  <li>&lt;video src&gt;
  <li>&lt;object src&gt;
</ul>

このページでは以下が埋め込まれています。

<pre></pre>

これらは、ブロックされません。


<h3>Mixed Active Content</h3>
アクティブコンテンツは、悪意のあるコンテンツに差し替えられた場合、 DOM へのアクセスなどが可能になり影響が大きいとされる以下のコンテンツです。

<ul>
  <li>&lt;script src&gt;
  <li>&lt;link href&gt;
  <li>&lt;iframe src&gt;
  <li>&lt;object data&gt;
  <li>XHR
  <li>CSS 内の URL (@font-face, background-image etc)
</ul>

このページでは以下が埋め込まれています。

<pre></pre>

これらは、ブロックされます。

<ul>
  <li>外部リソースへの URL が <code>http://</code> を <code>https://</code> に読み替えてリクエストされる
  <li>ブザウザのアドレスバーが緑(TLS valid)になる
  <li>コンソールに、 Mixed Contents を検知した旨のエラーが出る
  <li>ただし <code>&lt;iframe&gt;</code> はブロックされる
</ul>

<a href=index.html>このページの Upgarade Insecure Request を無効にしたバージョンがこちら。</a>

<hr>

<div id=passive>
  <img    src=http://labs.jxck.io/mixed/image.png></img>
  <audio  src=http://labs.jxck.io/mixed/audio.mp3></audio>
  <video  src=http://labs.jxck.io/mixed/video.mp4></video>
</div>

<div id=active>
  <script src=http://labs.jxck.io/mixed/script.js></script>
  <link   link=http://labs.jxck.io/mixed/style.css></link>
  <iframe src=http://labs.jxck.io/></iframe>
  <object data=http://labs.jxck.io/mixed/flash.swf></object>
  <script>
var xhr = new XMLHttpRequest();
xhr.open('GET', 'http://labs.jxck.io');
xhr.addEventListener('load', () => {
  console.log(xhr.response);
});
xhr.send();
  </script>
  <style>
body {
  background-image: url("http://labs.jxck.io/mixed/background.png");
}
  </style>
</div>

<h2>About Mixed Content</h2>

<ul>
  <li><a href="https://support.mozilla.org/en-US/kb/how-does-content-isnt-secure-affect-my-safety">How does content that isn't secure affect my safety?</a>
  <li><a href="https://developer.mozilla.org/en-US/docs/Security/MixedContent/How_to_fix_website_with_mixed_content">How to fix a website with blocked mixed content</a>
</ul>
